# Etoile pmkfile

SETTINGS {
	AC_COMPAT = ""
	TARGET = ("GNUmakefile.template")
	DETECT = ("CC")
}

CHECK_VARIABLE(pmk_gnustep_system_root) {
	REQUIRED = TRUE
	NAME = "GNUSTEP_SYSTEM_ROOT"
	VALUE = "/GNUstep/System"
}

CHECK_VARIABLE(pmk_gnustep_local_root) {
	REQUIRED = TRUE
	NAME = "GNUSTEP_LOCAL_ROOT"
	VALUE = "/GNUstep/Local"
}

CHECK_VARIABLE(pmk_gnustep_makefiles) {
	REQUIRED = TRUE
	NAME = "GNUSTEP_MAKEFILES"
}

DEFINE {
	PACKAGE = "Etoile desktop"
	VERSION = "0.1"	
}

#AC_ECHO_N("Tested include paths: $PATH_INC")
#AC_ECHO_N("Tested library paths: $PATH_LIB")

SWITCHES {
	
	# Usual switches

	etoile = TRUE
	desktop_base = FALSE
	developer_base = FALSE

	# Frameworks related switches

	fogvision = TRUE        # ExtendedWorkspaceKit framework 
							# search part
	components = TRUE      	# ComponentKit framework
	bookmarks = TRUE		# BookmarkKit framework
	camaelon = TRUE        	# Camaelon framework
	persistency = FALSE     # PersistentObjectKit framework
	gestures = FALSE    	# GestureKit framework

	# Core services related switches

	workspace = TRUE

	# Utility services related switches

	attributes_utility = TRUE
	look_and_behavior_utility = TRUE
	hardware_utility = TRUE
	network_and_internet_utility = TRUE

	# Passive services related switches
	
	services_bar_service = TRUE
	shelf_service = TRUE
	notes_service = TRUE
	background_service = TRUE

	# Components related switches

	# Other services related switches
}

#IF(fogvision) {
	# Check the Java environment installation
	#CHECK_BINARY(pmk-binjava) { 
	#	NAME = "java" 
	#	VARIABLE = "JAVA" 
	#}
#}

CHECK_LIB(pmk_libpkgconfig) {
	REQUIRED = FALSE
	NAME = "pkgconfig"
}

IF(pmk_libpkgconfig) {
	CHECK_PKG_CONFIG(pmk_libgnustep_base) {
		REQUIRED = TRUE
		NAME = "gnuste-base"
		#VERSION = "1.10.1"
		#CFLAGS = "GNUSTEP_BASE_CFLAGS"
		#LIBS = "GNUSTEP_BASE_LIBS"
	}

	CHECK_PKG_CONFIG(pmk_libgnustep_gui) {
		REQUIRED = TRUE
		NAME = "gnustep-gui"
		#VERSION = "0.9.4"
		#CFLAGS = "GNUSTEP_GUI_CFLAGS"
		#LIBS = "GNUSTEP_GUI_LIBS"
	}

	#CHECK_PKG_CONFIG(pmk_libgnustep_back) {
	#	REQUIRED = TRUE
	#	NAME = "gnustep-back"
	#	VERSION = "0.9.4"
	#	CFLAGS = "GNUSTEP_BACK_CFLAGS"
	#	LIBS = "GNUSTEP_BACK_LIBS"
	#}

	#CHECK_PKG_CONFIG(pmk_liblucene) {
	#	NAME = "LUCENE"
	#	VERSION = "1.4"
	#	LIBS = "LUCENE_LIBS"
	#}

}
ELSE {
	CHECK_LIB(pmk_libgnustep_base) {
		REQUIRED = TRUE
		NAME = "gnustep-base"
	}

	CHECK_LIB(pmk_libgnustep_gui) {
		REQUIRED = TRUE
		NAME = "gnustep-gui"
	}

	#CHECK_LIB(pmk_libgnustep_back) {
	#	REQUIRED = YES
	#	NAME = "gnustep-back"
	#}

	#CHECK_LIB(pmk_liblucene) {
	#	NAME = "LUCENE"
	#}
}

#BUILD_SH_LIB() {
#	NAME = "" 
#	MAJOR = "" 
#	MIFALSER = "" 
#	VERSION_FALSENE = "" 
#	VERSION_MAJ = "" 
#	VERSION_FULL = "" 
#}
