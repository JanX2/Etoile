# Etoile pmkfile

SETTINGS {
	TARGET = ("GNUmakefile")
	DETECT = ("CC")
}

SWITCHES {
	
	# Frameworks related switches

	fogvision = YES        # Part of the ExtendedWorkspaceKit framework
	components = YES       # ComponentKit framework
	system-bookmarks = YES # BookmarkKit framework
	camaelon = YES         # Camaelon framework
	comet-vfs = NO         # CometVFS framework
	gestures-input = NO    # GestureKit framework

	# Core services related switches

	workspace = YES

	# Utility services related switches

	attributes-utility = YES
	look-and-behavior-utility = YES
	hardware-utility = YES
	network-and-internet-utility = YES

	# Passive services related switches
	
	services-bar-service = YES
	shelf-service = YES
	notes-service = YES
	background-service = YES

	# Components related switches

	# Other services related switches
}

DEFINE {
	PACKAGE = "Etoile desktop"
	VERSION = "0.1"
}

IF(fogvision)
{
	# Check the Java environment installation
	CHECK_BINARY(pmk-binjava) { 
		NAME = "java" 
		VARIABLE = "JAVA" 
	}
}

CHECK_LIB(pmk-libpkgconfig) { 
	NAME = "PKGCONFIG"
}

IF(pmk-libpkgconfig)
{
	CHECK_PKG_CONFIG(pmk-libgnustep-base) { 
		NAME = "GNUSTEP_BASE"
		VERSION = "1.10.1"
		CFLAGS = "GNUSTEP_BASE_CFLAGS"
		LIBS = "GNUSTEP_BASE_LIBS"
	}

	CHECK_PKG_CONFIG(pmk-libgnustep-gui) { 
		NAME = "GNUSTEP_GUI"
		VERSION = "0.9.4
		CFLAGS = "GNUSTEP_GUI_CFLAGS"
		LIBS = "GNUSTEP_GUI_LIBS"
	}

	CHECK_PKG_CONFIG(pmk-libgnustep-back) { 
		NAME = "GNUSTEP_BACK"
		VERSION = "0.9.4
		CFLAGS = "GNUSTEP_BACK_CFLAGS"
		LIBS = "GNUSTEP_BACK_LIBS"
	}

	CHECK_PKG_CONFIG(pmk-liblucene) { 
		NAME = "LUCENE"
		VERSION = "1.4"
		LIBS = "LUCENE_LIBS"
	}

}

ELSE
{
	CHECK_LIB(pmk-libgnustep-base) { 
		NAME = "GNUSTEP_BASE"
	}

	CHECK_LIB(pmk-libgnustep-gui) { 
		NAME = "GNUSTEP_GUI"
	}

	CHECK_LIB(pmk-libgnustep-back) { 
		NAME = "GNUSTEP_BACK"
	}

	CHECK_LIB(pmk-liblucene) { 
		NAME = "LUCENE"
	}
}

# CHECK_VARIABLE() { NAME = "" VARIABLE = "" }

BUILD_SH_LIB() { NAME = "" MAJOR = "" MINOR = "" VERSION_NONE = "" VERSION_MAJ = "" VERSION_FULL = "" }
