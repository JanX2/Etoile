2005-11-20  Quentin Mathe <qmathe@club-internet.fr>

    * Source/PKPreferencePane.m: Declared NSPreferencePane implementation, this
    hack allows NSPreferencePane reference in PreferencesKit based 
    applications.

2005-11-20  Quentin Mathe <qmathe@club-internet.fr>
    
    * PrebuiltTableView.nib: Added.
    * Headers/PKTableViewPreferencesController.h: Minor outlet tweak.
    * Source/PKTableViewPreferencesController.m (-loadUI): Extended with 
    missing code to set outlets value by loading PrebuiltTableView nib.
    
2005-11-20  Quentin Mathe <qmathe@club-internet.fr>
    
    Major refactoring.
    * Headers/CocoaCompatibility.h:
    * Headers/CocoaCompatibility.m:
    New files to put together various GNUstep extensions we depend on.
    * Headers/PreferencesKit.h: Updated.
    * Headers/PKPresentationBuilder.h:
    * Source/PKPresentationBuilder.m:
    Added.
    * Headers/PKPreferencesController.h:
    * Source/PKPreferencesController.m:
    Moved NSArray categories to CocoaCompatibility header and source files.
    Refactored by splitting preference panes handling logic in current class and 
    presentational logic in a separate class hierarchy based on new 
    PresentationBuilder abstract class. This new objects model closely relates
    to Builder pattern.  
    Added a new 'presentation' ivar to store the current presentation
    manager we have to interact with.
    (-initWithPresentationMode:): New method to obtain a controller inited with 
    a custom presentation (provided through presentation builder class cluster).
    (-initExtra): Inlined in previous method.
    (-preferencesListView:) Moved to PresentationBuilder under new name
    -presentationView.
    (-initUI): Moved to PresentationBuilder.
    (-selectPreferencePaneWithIdentifier:): Tailored with two delegate inspired
    messages sent to presentation side, allowing it to react to preference pane 
    changes; the two involved methods are -willSelectPreferencePaneWithIdentifier: 
    and -didSelectPreferencePaneWithIdentifier:.
    (-repondsToSelector:):
    (-forwardInvocation:):
    Extended to include presentation objects in forwarding.
    (-selectedPreferencePaneIdentifier): Added conveniency method.
    (-setPresentationMode:): New method to allow switching between presentation
    like toolbar, table view etc. on the fly.
    (-presentationMode): Added getter related to previous method.
    (-switchPreferencePaneView:): Renamed -switchView: to 
    -switchPreferencePaneView:.
    * Headers/PKPreferencesToolbarController.h:
    * Source/PKPreferencesToolbarController.m:
    Refactored existing class into a new class PKToolbarPresentation. Added an
    ivar 'switchActionTriggered'
    (-loadUI): Renamed -initUI to -loadUI.
    (-unloadUI): Added.
    (-presentationMode): Added.
    (-presentationView): Renamed -preferencesListView to -presentationView to
    follow current trend.
    (-resizePreferencesViewForView:): Fixed bug in Cocoa code which 
    wrongly reset window origin to 0 and added a minimum window frame size.
    (-switchPreferencePaneView:): Added.
    (-didSelectPreferencePaneWithIdentifier:): Added.
    (-selectPreferencePaneWithIdentifier:): Removed (logic moved to the two 
    previous methods).
    (-toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:): Added a check
    to avoid -setImage: call when plugin image is a null object (otherwise we
    we would get an error) and corrected the action selector to match 
    -switchPreferencePaneView:. 
    * Headers/PKTableViewPreferencesController.h:
    * Source/PKTableViewPreferencesController.m:
    Refactored existing class into a new class PKTableViewPresentation.
    (-loadUI): Renamed -initUI to -loadUI and added implementation code.
    (-unloadUI): Added.
    (-presentationMode): Added.
    (-presentationView): Renamed -preferencesListView to -presentationView to
    follow current trend.
    (-resizePreferencesViewForView:): Rewritten from scratch (commented out old 
    code).
    (-switchPreferencePaneView:): Added.
    (-didSelectPreferencePaneWithIdentifier:): Added.
    * PreferencesKit.xcodeproj: Tuned build options to have project correctly
    compiled with Xcode 2.2 for debugging and framework installed with the right 
    permissions.
    
2005-11-20  Quentin Mathe <qmathe@club-internet.fr>
    
    * Source/UKPluginsRegistry.m (-loadPluginForPath:): Taken in account when 
    the icon cannot be loaded by setting 'image' to null object what 
    still allows to build plugin dictionary gracefully.

2005-11-11  Quentin Mathe <qmathe@club-internet.fr>
    
    * Headers/PKPreferencePane.h:
    * Source/PKPreferencePane.m: Documented completely except methods 
    -didSelect, -willSelect, -didUnselect, -willUnselect.
    (-assignView:): Now returns NSView and not void to match Cocoa API.
    * PreferencesKit.xcodeproj: Included ChangeLog.

2005-10-15  Quentin Mathe <qmathe@club-internet.fr>

    * Source/PKPreferencesController.m:
    * Source/PKPrefPanesRegistry.m:
    * Source/UKPluginsRegistry.m:
    Written PreferencesKit documentation first part.
    * PreferencesKit.xcodeproj: Tuned a bit build target options.

2005-08-17  Quentin Mathe <qmathe@club-internet.fr>

    * Headers/PKPreferencesController.h (-selectPreferencePaneWithIdentifier:):
    Added (forgotten to declare it in previous commit).

2005-08-17  Quentin Mathe <qmathe@club-internet.fr>

    PreferencesKit is now usable on GNUstep.
    * Source/PKPreferencesController.m:
    (-awakeFromNib): Moved -initUI call before code to load initial preference
    pane because this code needs preferences list view to be set up. Replaced
    -updateUIForPreferencePaneWithPath: call by new method
    -selectPreferencePaneWithIdentifier:.
    (-updateForPreferencePaneWithPath:): Renamed variables 'mainContainerView'
    to 'prefsView' and'theView' to 'paneView'. Removed unused commented code.
    (-selectPreferencePaneWithIdentifier:): New method to change current
    preference pane (equivalent to -switchView: action).
    * Source/PKToolbarPreferencesController.m:
    (-initUI): Moved code to select toolbar item related to current preference
    pane in -selectPreferencePaneWithIdentifier:.
    (-selectPreferencePaneWithIdentifier:): New overriden method.
    (-switchView:): Modified to use -selectPreferencePaneWithIdentifier:.
    (-preferencesView): Added overriden accessor in order to return contentView
    or contentViewWithoutToolbar (on GNUstep) when preferencesView has not been
    set (especially useful because in Gorm we cannot connect outlets to NSWindow
    related content view)
    -(resizePreferencesViewForView:): Rewritten completely to be simpler and
    easier to understand (side effect, it works well now :-).

2005-08-14  Quentin Mathe <qmathe@club-internet.fr>

    * Source/GNUmakefile.postamble: Added symbolic link creation in order to
    have BackboneCompatibility headers installed and BackboneCompatibility
    sources virtually put together with other sources when compilation occurs.

2005-08-07  Quentin Mathe <qmathe@club-internet.fr>

    * Source/GNUmakefile: Fixed issue which prevented to have headers installed.

2005-08-05  Quentin Mathe <qmathe@club-internet.fr>

    PreferencesKit now compiles with GNUstep.
    * Source/GNUmakefile: Fixed in order compilation works on GNUstep.
    * Source/GNUmakefile.postamble: Added to allow PKPrefsModulePrefPane.m 
    compilation.
    * Source/PKPreferencesController.m: 
    Included NSArray(ObjectsWithValueForKey) declaration only with Cocoa.
    (-respondsToSelector:): Fixed test equality for selector (use NULL and not
    nil).
    * Source/PKToolbarPreferencesController.m: 
    Added NSArray (ObjectWithValueForKey) declaration to shut down warning.
    (-resizePreferencesViewForView:): Hacked to workaround 
    -[NSWindow frameRectForContentRect:] not implemented on GNUstep.
    * Source/PKPrefPanesRegistry.m: Added NSArray (ObjectWithValueForKey) 
    declaration to shut down warning.

2005-08-05  Quentin Mathe <qmathe@club-internet.fr>

	WARNING: doesn't compile with GNUstep.
	* Headers/PreferencesKit.h: Removed PKApplicationController.h import directive.
	
2005-08-05  Quentin Mathe <qmathe@club-internet.fr>
	
	WARNING: doesn't compile with GNUstep.
	PreferencesKit is now usable on Mac OS X.
	* PreferencesKit.xcodeproj: Updated
    * Headers/UKPluginsRegistry.h: Declared new documented plugin dictionary keys.
    * Source/UKPluginsRegistry.m:
    (-loadPluginsOfType:): Took in account 'CFBundleExecutable' variant and not 
    only 'NSExecutable'.
    (-loadPluginForPath:): Improved a lot (we take in account more 'identifier',
    'image' and 'name' related plugin dictionary possible values).
    (-loadedPlugins): Added a check to return nil when plugins array is empty.
    * Headers/PKPrefPanesRegistry.h: Declared UnitKit protocol UKTest.
	* Source/PKPrefPanesRegistry.m: 
	Tweaked a bit shared instance creation, 
	(-preferencePaneAtPath:): Took in account new 'image' and 'name' plugin 
	dictionary values have to support for 'prefsModule' type.
	(-testPreferencePaneAtPath:): Added.
	(-preferencePaneWithIdentifier:): Added.
	* Source/PKTableViewPreferencesController.m (-resizePreferencesViewForView:): Added.
    * Source/PKToolbarPreferencesController.m:
    (-initUI): Modified to set up toolbar more completely.
    (-resizePreferencesViewForView:): Added.
    (-switchView:): Added.
    (-toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:): Fixed plugin 
    identifier retrieve code and renamed 'info' dictionary variable to 'plugin'.
	* Headers/PKPreferencesController.h:
    * Source/PKPreferencesController.m:
    Added a complete tests set.
    (-awakeFromNib): Added a check to load pane safely.
    (-[NSArray objectsWithValue:forKey:]): Added NSArray method with a category 
    for Cocoa compatibility. 
    (-[NSArray objectWithValue:forKey:]): Added NSArray method with a category.
    (-resizePreferencesViewForView:): Added (abstract).
    (-updateUIForPreferencePane:): Refactored with the previous method.
    (-mainViewWaitSign): Added.
    
2005-07-01  Quentin Mathe <qmathe@club-internet.fr>
	
	WARNING: doesn't compile with GNUstep.
	PreferencesKit compilation now works (with Xcode).
	* PreferencesKit.xcode:
	* PreferencesKit_Prefix.pch:
	Removed.
	* PreferencesKit.xcodeproj: Added (Xcode 2.1 project format update)
	* Info.plist:
	* version.plist:
	Minor update.
	* Source/PKPreferencesController.m
    * Source/PKTableViewPreferencesController.m
    * Source/PKToolbarPreferencesController.m
    * Source/UKPluginsRegistry.m:
    Fixed UKPluginsRegistry or PKPrefPanesRegistry references to be correct, 
    which means not UKPluginRegistry (without 's') to take an example.

2005-06-30  Quentin Mathe <qmathe@club-internet.fr>
	
	WARNING: doesn't compile.
	* Headers/PKBundleController.h:
	* Source/PKBundleController.m: 
	* Headers/PreferencePane.h:
	Removed.
	* Headers/PKPreferencesController.h:
	* Headers/PKPreferencePane.h:
	* Headers/PKToolbarPreferencesController.h:
	* Source/PKPreferencesController.m:
	* Source/PKPreferencePane.m:
	* Source/PKToolbarPreferencesController.m:
	Rewritten with Uli Kusterer's GSSystemPreferences code and removed
	Preferences.app code. Now licensed under LGPL.
	* Headers/PKTableViewPreferencesController.h: Updated to match 
	implementation. Now licensed under LGPL.
	* Source/PKTableViewPreferencesController.m:
	Implemented. Now licensed under LGPL.
	* Headers/UKPluginsRegistry.h:
	* Source/UKPluginsRegistry.m:
	* Headers/PKPrefPanesRegistry.h:
	* Source/PKPrefPanesRegistry.m:
	Added. Derived from Uli Kusterer's GSSystemPreferences code and
	extended with unit tests, used to replace PKBundleController.
	* Headers/BackboneCompatibility/PKPrefsModulePrefPane.h:
	* Source/BackboneCompatibility/PKPrefsModulePrefPane.m:
	Added. Derived from Uli Kusterer's GSSystemPreferences code (PKPreferencePane
    adaptor class for Backbone Prefs module support).
	* Headers/PreferencesKit.h: Added (new umbrella header).

2005-04-06  Quentin Mathe <qmathe@club-internet.fr>
	
	WARNING: doesn't compile.
	* Headers/PKApplicationController.h:
	* Headers/PKBundleController.h:
	* Headers/PKPreferencesController.h:
	* Headers/PKPreferencePane.h:
	* Headers/PKTableViewPreferencesController.h:
	* Headers/PKToolbarPreferencesController.h:
	* Headers/PreferencePane.h:
	* Source/PKApplicationController.m:
	* Source/PKBundleController.m:
	* Source/PKPreferencesController.m:
	* Source/PKPreferencePane.m:
	* Source/PKTableViewPreferencesController.m:
	* Source/PKToolbarPreferencesController.m:
	Improved code to be cleaner and tweaked formatting.
	* PreferencesKit.xcode:
	* PreferencesKit_Prefix.pch:
	* English.lproj/InfoPlist.strings:
	* English.lproj/locversion.plist:
	* Info.plist:
	* version.plist:
	Added Xcode project.
	* .cvsignore: Updated to ignore Xcode build folder.

2005-03-10  Quentin Mathe <qmathe@club-internet.fr>
	
	WARNING: doesn't compile.
	* INSTALL: Updated to talk about PreferencesKit and not Gorm.
	* Source/GNUmakefile: Improved formatting.

2005-01-02  Quentin Mathe <qmathe@club-internet.fr>
	
	WARNING: doesn't compile.
	* Headers/BackboneCompatibility/PrefsModule.h:
	* Headers/PreferencePane.h:
	* Headers/PKApplicationController.h:
	* Headers/PKBundleController.h:
	* Headers/PKPreferencePane.h:
	* Headers/PKPreferencesController.h:
	* Headers/PKTableViewController.h:
	* Headers/PKToolbarPreferencesController.h:
	* Source/PKApplicationController.m:
	* Source/PKBundleController.m:
	* Source/PKPreferencePane.m:
	* Source/PKPreferencesController.m:
	* Source/PKTableViewController.m:
	* Source/PKToolbarPreferencesController.m:
	* Source/GNUmakefile:
	* README:
	* INSTALL:
	* GNUmakefile:
	Initial import.
		
